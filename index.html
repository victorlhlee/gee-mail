<html>
	<head>
		<script src="js/mail-generator.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
        <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet" type="text/css">
        <meta charset="utf-8">
        <title>DevLeague Coding Challenge</title>
        
        <script>
        window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
            
            
        //   Global Variable Declaration
            
            let emailInfo = window.geemails;
            let senderContent, subjectContent, dateContent, bodyContents
            
        //renders each email property into separate locations
            
            
            function createElement(tag,className,text){
                let el = document.createElement(tag);
                    el.className = className;
                    el.innerHTML = text;
                return el;
            }
         
            
            
            for (let i = 0; i < emailInfo.length; i++){
           
             
                senderContent = createElement('div', 'senderName', emailInfo[i].sender);
                main.appendChild(senderContent);
                
                subjectContent = createElement('div', 'subjectContents', emailInfo[i].subject);
                senderContent.appendChild(subjectContent);
                
                dateContent = createElement('div', 'sentDate', emailInfo[i].date);
                senderContent.appendChild(dateContent);
                
                bodyContents = createElement('div', 'bodyContents', emailInfo[i].body);
                senderContent.appendChild(bodyContents);
                bodyContents.style.display = 'none';

            }
          

            
        //This code will auto generate emails every 5 seconds
            
            
            
                const autoEmailGen = function(){
        
                
                    
                senderContent = createElement('div', 'senderName', getNewMessage().sender);
                main.appendChild(senderContent);
                
                subjectContent = createElement('div', 'subjectContents', getNewMessage().subject);
                senderContent.appendChild(subjectContent);
                
                dateContent = createElement('div', 'sentDate', getNewMessage().date);
                senderContent.appendChild(dateContent);
                
                bodyContents = createElement('div', 'bodyContents', getNewMessage().body);
                senderContent.appendChild(bodyContents);
                bodyContents.style.display = 'none';
                    
                    
                    
//                    let senderContentTwo = getNewMessage().sender;
//                    senderContent.appendChild(senderContentTwo);
//                    
//                    let subjectContentTwo = getNewMessage().subject;
//                    subjectContent.appendChild(subjectContentTwo);
//                    
//                    let dateContentTwo = getNewMessage().date;
//                    dateContent.appendChild(dateContentTwo);
//                    
//                    let bodyContentsTwo = getNewMessage().body;
//                    bodyContents.appendChild(bodyContentsTwo);
//                    bodyContentsTwo.style.display = 'none';
                
//               
                }
                

            
             let autogen = setInterval(autoEmailGen, 5000);
            
            
            
            
            //show body of text when click on subject
         
                 
            let showBody = document.querySelectorAll('.senderName');
            for (var i = 0; i < showBody.length; i++){
                showBody[i].addEventListener('click', showBodies);
            }
            
            
            function showBodies() {
                let message = this.querySelectorAll('.bodyContents')[0];
                if (message.style.display === 'none'){
                    message.style.display = 'block';
                }else{
                    message.style.display = 'none';
                }
            }   
               
          
             
            
            };
        </script>
	</head>
	<body>
       <h1>Geemail</h1> <h3> Everybody's Eemail</h3>
		<div class="container" id="main">
            <div class="sidebar" id="inbox">Inbox<br>Important<br>Sent Mail<br>Drafts<br>Junk Mail<br>Deleted Items</br></div>
              
            
            
            
		</div>
	</body>
</html>