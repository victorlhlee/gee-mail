<html>
	<head>
		<script src="js/mail-generator.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
        <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet" type="text/css">
        <meta charset="utf-8">
        <title>DevLeague Coding Challenge</title>
        
        <script>
        window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
          
            
        //renders each email property into separate locations
            
         for (let i = 0; i < window.geemails.length; i++){
             console.log(window.geemails[i].sender);
             console.log(window.geemails[i].subject);
             console.log(window.geemails[i].date);
             console.log(window.geemails[i].body);
             
             let senderContent = document.createElement('div');
             senderContent.className = 'senderName';
             senderContent.innerHTML = window.geemails[i].sender;
             main.appendChild(senderContent);
             
             let subjectContent = document.createElement('div');
             subjectContent.className = 'subjectContents';
             subjectContent.innerHTML = window.geemails[i].subject;
             senderContent.appendChild(subjectContent);
            
             
             let dateContent = document.createElement('div');
             dateContent.className = 'sentDate';
             dateContent.innerHTML = window.geemails[i].date;
             senderContent.appendChild(dateContent);
             
             let bodyContents = document.createElement('div');
             bodyContents.className = 'bodyContents';
             bodyContents.innerHTML = window.geemails[i].body;
             senderContent.appendChild(bodyContents); 
             
            }
          
            //hides all email body until I want user to see
            
            let hideBody = document.querySelectorAll('.bodyContents');
            
            for (var i = 0; i < hideBody.length; i++){
                hideBody[i].style.display = 'none';
            }
            
            
            //show body of text when click on subject
            
            let showBody = document.querySelectorAll('.senderName');
            for (var i = 0; i < showBody.length; i++){
                showBody[i].addEventListener('click', showBodies);
            }
            
            
            function showBodies() {
                let message = this.querySelectorAll('.bodyContents')[0];
                if (message.style.display === 'none'){
                    message.style.display = 'block';
                }else{
                    message.style.display = 'none';
                }
            }   
               
            
            //This code will auto generate emails every 5 seconds
             let autoEmailGen = function(){
                getNewMessage();
            }
            
            let autogen = setInterval(autoEmailGen, 5000);
            
            console.log(autoEmailGen);
            
            };
        </script>
	</head>
	<body>
       <h1>Geemail</h1> <h3> Everybody's Eemail</h3>
		<div class="container" id="main">
            <div class="sidebar" id="inbox">Inbox<br>Important<br>Sent Mail<br>Drafts<br>Junk Mail<br>Deleted Items</br></div>
              
            
            
            
		</div>
	</body>
</html>